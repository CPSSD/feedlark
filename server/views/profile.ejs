<% include partials/header.ejs %>

<div class="container">
  <div class="row">
    <div class="col s12 m12 l4">
      <h2>Hello, <%= user.username %></h2>
      <p>Thanks for taking part in the Feedlark alpha</p>
    </div>
    <div class="col s12 m12 l8">
      <h2>API Tokens</h2>
      <ul class="collection">
        <% if (typeof user.tokens == "undefined" || user.tokens.length < 1) { %>
          <li class="collection-item">
            <p class="center-align">No keys yet</p>
          <li>
          <%
        } else {
          var token_names = Object.keys(user.tokens);
          for(var i = 0; i < token_names.length; i++) {
            current_token = token_names[i];%>
            <li class="collection-item">
              <%= token_names[i] %>
              <span class="secondary-content" style="text-align: right;">
                <a href="/token/remove?token=<%=token_names[i]%>"><i class="material-icons">delete_forever</i></a>
              </span>
            </li>
        <% } } %>
    </ul>

      <a class="waves-effect waves-light btn" href="/token/add"><i class="material-icons left">cloud</i>Generate new keys</a>
      <p>Currently API Tokens will only enable plaintext requests.</p>

      <h3>Plaintext Requests</h3>
      <p>To make a plaintext request, generate a key and request the stream like so:
        <br>
        <code>- http://feedlark.com/plaintext?token=EXAMPLE_TOKEN&amp;username=<%= user.username %></code>
      </p>
    </div>
  </div>




  </div>

</div>
<% include partials/footer.ejs %>
